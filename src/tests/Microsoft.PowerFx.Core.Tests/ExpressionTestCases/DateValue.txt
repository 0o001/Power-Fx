#SETUP: disable:StronglyTypedBuiltinEnums

// Use of DateValue, DateTimeValue

>> DateValue("")
Blank()

>> DateTimeValue("")
Blank()

>> DateValue(If(1<0,"blank"))
Blank()

>> DateTimeValue(If(1<0,"blank"))
Blank()

>> DateTimeValue("01-01-2001 1:10:20")
DateTime(2001,1,1,1,10,20,0)

>> Date(2001, 2, 14) = DateValue("2001-02-14")
true

#LOCALIZED_EXPRESSION(fr-FR): DateValue("14-02-01") = DateValue("14/02/01")
>> DateValue("02-14-01") = DateValue("02/14/01")
true

#LOCALIZED_EXPRESSION(fr-FR): DateValue("14/02/2001") = DateValue("2001-02-14")
>> DateValue("02/14/2001") = DateValue("2001-02-14")
true

// time zone offset
>> Hour(DateAdd(DateAdd(DateTimeValue("01-01-2001 1:10:20"), TimeZoneOffset(), TimeUnit.Minutes), -TimeZoneOffset(), "Minutes"))
1

>> Second(DateAdd(DateTimeValue("01-01-2001 1:10:20"), 1, "Seconds"))
21

>> Hour(DateAdd(DateTimeValue("01-01-2001 1:10:20"), 1, TimeUnit.Hours))
2

>> Minute(DateAdd(DateTimeValue("01-01-2001 1:10:20"), 1, TimeUnit.Minutes))
11

#LOCALIZED_EXPRESSION(fr-FR): DateTimeValue("14/02/2001 6:00") - 0,5
>> DateTimeValue("02/14/2001 6:00 AM") - 0.5
DateTime(2001,2,13,18,0,0,0)

#LOCALIZED_EXPRESSION(fr-FR): DateTimeValue("14/02/2001 6:00") + 0,0417
>> DateTimeValue("02/14/2001 6:00 AM") + 0.0417
DateTime(2001,2,14,7,0,2,880)

#LOCALIZED_EXPRESSION(fr-FR): DateTimeValue("14/02/2001 6:00") + 7e-4
>> DateTimeValue("02/14/2001 6:00 AM") + 7e-4
DateTime(2001,2,14,6,1,0,480)

#LOCALIZED_EXPRESSION(fr-FR): Second(DateTimeValue("14/02/2001 6:00") - 1,1574e-5)
>> Second(DateTimeValue("02/14/2001 6:00 AM") - 1.1574e-5)
59

>> DateTimeValue("jeudi 21 juillet 2022 19:34:03", "fr-FR")
DateTime(2022,7,21,19,34,3,0)

>> DateTimeValue("Thursday 28 July 2022 19:34:03", "EN-US")
DateTime(2022,7,28,19,34,3,0)

>> DateTimeValue("21-Dec-2016 02:55:00", "EN-US")
DateTime(2016,12,21,2,55,0,0)

>> DateTimeValue("21-Dec-2016 02:55:00", "en-us")
DateTime(2016,12,21,2,55,0,0)

>> DateTimeValue("Thursday 28 July 2022 7:34:03 PM", "EN")
DateTime(2022,7,28,19,34,3,0)

>> DateTimeValue("21.7.2022. 19:34:03", "sr-cyrl-RS")
DateTime(2022,7,21,19,34,3,0)

>> DateTimeValue("2022年07月28日 19:34:03", "ja-JP")
DateTime(2022,7,28,19,34,3,0)

// This locale isn't supported in PowerApps.  
>> DateTimeValue("четвртак 21 јул 2022 19:34:03", "sr-cyrl-RS")
DateTime(2022,7,21,19,34,3,0)

>> Text(DateTimeValue("четвртак 21 јул 2022 19:34:03", "invalid"))
Error({Kind:ErrorKind.BadLanguageCode})

// Errors
>> DateValue(If(1/0<2,"2022-01-01"))
Error({Kind:ErrorKind.Div0})

>> DateValue(If(Sqrt(-1) < 0, "2022-01-01"))
Error({Kind:ErrorKind.Numeric})

>> DateTimeValue(If(1/0<2,"2022-01-01 12:34:56"))
Error({Kind:ErrorKind.Div0})

>> DateTimeValue(If(Sqrt(-1) < 0, "2022-01-01 12:34:56"))
Error({Kind:ErrorKind.Numeric})

#NOT_LOCALIZED
>> DateTimeValue("2011-01-30T08:00:00.000")
DateTime(2011,1,30,8,0,0,0)

#NOT_LOCALIZED
>> DateTimeValue("2011-01-30T08:00:00.0005")
DateTime(2011,1,30,8,0,0,0)

#NOT_LOCALIZED
>> DateTimeValue("2011-01-30T08:00:00.1234567")
DateTime(2011,1,30,8,0,0,123)

#LOCALIZED_EXPRESSION(fr-FR): With({d:DateTimeValue("10 Mars 2023 17:30")}; DateTimeValue(Text(d; DateTimeFormat.UTC)) = d)
>> With({d:DateTimeValue("March 10, 2023 5:30 PM")}, DateTimeValue(Text(d, DateTimeFormat.UTC)) = d)
true

>> DateTimeValue("12:34:56")
DateTime(1899,12,30,12,34,56,0)

>> DateValue("12:34:56")
Date(1899,12,30)